<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dentist's Son | Cape Cod's Original FODMAP-Friendly Spice Rubs</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Source+Sans+3:wght@400;500;600&family=Source+Serif+4:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { background: #1a2744; }
    button:hover { opacity: 0.85; transform: translateY(-1px); }
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #0f1829; }
    ::-webkit-scrollbar-thumb { background: rgba(201,162,39,0.3); border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: rgba(201,162,39,0.5); }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
const { useState } = React;

// Spice data
const spices = [
  { id: 'black-kettle', name: 'Black Kettle', subtitle: 'FOR BEEF', description: 'Deep, smoky complexity with espresso undertones. Named for the iron kettles of Sandwich\'s glass factory.', ingredients: 'Smoked Paprika • Black Pepper • Kosher Salt • Cumin • Coriander • Mustard Powder • Espresso Powder • Cayenne • Thyme • Cinnamon', bestFor: ['Brisket', 'Ribeye', 'Tri-tip', 'Burgers', 'Ribs'], price: 14.99 },
  { id: 'sugar-sand', name: 'Sugar Sand', subtitle: 'FOR PORK', description: 'Sweet maple meets smoky heat—inspired by the soft white sands of Town Neck Beach.', ingredients: 'Smoked Paprika • Maple Sugar • Kosher Salt • Black Pepper • Cumin • Mustard Powder • Sage • Cayenne • Allspice • Cloves', bestFor: ['Ribs', 'Pork Shoulder', 'Tenderloin', 'Chops'], price: 14.99 },
  { id: 'bayside', name: 'Bayside', subtitle: 'FOR CHICKEN', description: 'Bright Mediterranean notes with golden turmeric warmth. Like summer on Cape Cod Bay.', ingredients: 'Smoked Paprika • Kosher Salt • Black Pepper • Oregano • Thyme • Cumin • Coriander • Lemon Zest • Turmeric • Cayenne', bestFor: ['Whole Chicken', 'Thighs', 'Drumsticks', 'Wings'], price: 14.99 },
  { id: 'dockside', name: 'Dockside', subtitle: 'FOR FISH', description: 'Delicate herbs and bright citrus. Crafted for the catch that built Cape Cod.', ingredients: 'Lemon Zest • Kosher Salt • White Pepper • Dill • Parsley • Celery Seed • Coriander • Sweet Paprika • Chives', bestFor: ['Cod', 'Haddock', 'Salmon', 'Scallops', 'Shrimp'], price: 14.99 },
  { id: 'the-95', name: "The '95", subtitle: 'CHAMPIONSHIP HEAT', description: 'Ghost pepper fire tempered with smoky depth—named for the Kettleers\' championship summer.', ingredients: 'Smoked Paprika • Chipotle • Kosher Salt • Cayenne • Black Pepper • Cumin • Coriander • Mustard Powder • Ghost Pepper • Cinnamon', bestFor: ['Wings', 'Ribs', 'Brisket'], price: 15.99 },
  { id: 'far-shore', name: 'Far Shore', subtitle: 'ASIAN-INSPIRED', description: 'Sesame and ginger with orange zest—where East meets the Eastern shore.', ingredients: 'Sesame Seeds • Ginger • Kosher Salt • White Pepper • Coriander • Orange Zest • Five Spice • Mustard Powder • Cayenne', bestFor: ['Salmon', 'Tuna', 'Chicken', 'Stir-fry'], price: 14.99 }
];

// 48 recipes
const recipes = [
  // BLACK KETTLE - BEEF
  { id: 1, title: 'Championship Smoked Brisket', spice: 'black-kettle', protein: 'beef', method: 'smoke', time: '12-14 hours', difficulty: 'Advanced', description: 'Low and slow perfection with a bark that wins trophies.', instructions: ['Trim brisket, leaving 1/4 inch fat cap', 'Apply Black Kettle rub generously', 'Refrigerate uncovered overnight', 'Smoke at 225°F until 203°F internal', 'Rest wrapped in butcher paper 2 hours'] },
  { id: 2, title: 'Smash Burgers', spice: 'black-kettle', protein: 'beef', method: 'pan', time: '15 min', difficulty: 'Easy', description: 'Crispy edges, beefy flavor, championship satisfaction.', instructions: ['Form 2oz balls of ground beef', 'Season with Black Kettle', 'Smash on screaming hot cast iron', 'Cook 2 minutes, flip, add cheese', 'Stack on toasted buns'] },
  { id: 3, title: 'Reverse Sear Ribeye', spice: 'black-kettle', protein: 'beef', method: 'oven', time: '1 hour', difficulty: 'Intermediate', description: 'Steakhouse quality—edge-to-edge perfection.', instructions: ['Season ribeye, rest 30 minutes', 'Bake at 250°F until 115°F internal', 'Sear in hot cast iron with butter', 'Cook 1 minute per side', 'Rest 5 minutes before slicing'] },
  { id: 4, title: 'Grilled Tri-Tip', spice: 'black-kettle', protein: 'beef', method: 'grill', time: '45 min', difficulty: 'Intermediate', description: 'Santa Maria style meets Cape Cod smoke.', instructions: ['Coat tri-tip with Black Kettle', 'Rest at room temperature 30 minutes', 'Sear over high heat 4 minutes per side', 'Move to indirect heat until 130°F', 'Slice against the grain'] },
  { id: 5, title: 'Beef Short Ribs', spice: 'black-kettle', protein: 'beef', method: 'smoke', time: '8-10 hours', difficulty: 'Advanced', description: 'Brisket-like bark on the most forgiving cut.', instructions: ['Choose meaty plate ribs', 'Apply rub and refrigerate overnight', 'Smoke at 275°F until probe tender', 'Wrap in butcher paper if needed', 'Rest 30 minutes'] },
  { id: 6, title: 'Cast Iron Flank Steak', spice: 'black-kettle', protein: 'beef', method: 'pan', time: '20 min', difficulty: 'Easy', description: 'Quick-cooking cut with maximum flavor.', instructions: ['Score flank in crosshatch pattern', 'Rub with Black Kettle and oil', 'Sear over high heat 4 minutes per side', 'Rest 10 minutes', 'Slice thin against grain'] },
  { id: 7, title: 'Beef Kebabs', spice: 'black-kettle', protein: 'beef', method: 'grill', time: '25 min', difficulty: 'Easy', description: 'Perfect for beach house gatherings.', instructions: ['Cut sirloin into 1.5 inch cubes', 'Toss with Black Kettle and oil', 'Thread onto skewers', 'Grill, turning every 3 minutes', 'Cook to medium-rare'] },
  { id: 8, title: 'Smoked Beef Cheeks', spice: 'black-kettle', protein: 'beef', method: 'smoke', time: '6-8 hours', difficulty: 'Advanced', description: 'The pitmaster\'s secret—meltingly tender.', instructions: ['Trim silver skin', 'Season heavily with Black Kettle', 'Smoke at 275°F until fork tender', 'Braise in stock if needed', 'Shred for tacos'] },
  { id: 9, title: 'Black Kettle Meatloaf', spice: 'black-kettle', protein: 'beef', method: 'oven', time: '1.5 hours', difficulty: 'Easy', description: 'Comfort food elevated with smoky depth.', instructions: ['Mix beef with egg, breadcrumbs, Black Kettle', 'Form into loaf', 'Top with tomato glaze', 'Bake at 350°F to 160°F internal', 'Rest before slicing'] },
  { id: 10, title: 'Steak Tips', spice: 'black-kettle', protein: 'beef', method: 'grill', time: '20 min', difficulty: 'Easy', description: 'A New England pub classic.', instructions: ['Cut sirloin into 2-inch chunks', 'Marinate in Black Kettle and oil', 'Grill over high heat', 'Cook to medium-rare', 'Serve with peppers'] },
  // SUGAR SAND - PORK
  { id: 11, title: 'Cape Cod Pulled Pork', spice: 'sugar-sand', protein: 'pork', method: 'smoke', time: '10-12 hours', difficulty: 'Intermediate', description: 'Sweet maple bark with pullable perfection.', instructions: ['Score pork shoulder', 'Coat with Sugar Sand', 'Rest 1 hour', 'Smoke at 250°F to 205°F', 'Pull with forks'] },
  { id: 12, title: 'Maple Sage Tenderloin', spice: 'sugar-sand', protein: 'pork', method: 'oven', time: '35 min', difficulty: 'Easy', description: 'Elegant enough for company.', instructions: ['Coat tenderloin with Sugar Sand', 'Sear all sides', 'Roast at 400°F to 145°F', 'Rest 10 minutes', 'Slice and serve'] },
  { id: 13, title: 'Competition Ribs', spice: 'sugar-sand', protein: 'pork', method: 'smoke', time: '6 hours', difficulty: 'Intermediate', description: 'Fall-off-the-bone tender.', instructions: ['Remove membrane', 'Apply Sugar Sand both sides', 'Smoke 3 hours unwrapped', 'Wrap with butter 2 hours', 'Glaze final hour'] },
  { id: 14, title: 'Grilled Pork Chops', spice: 'sugar-sand', protein: 'pork', method: 'grill', time: '25 min', difficulty: 'Easy', description: 'Thick-cut with caramelized edges.', instructions: ['Choose 1-inch bone-in chops', 'Season 30 minutes ahead', 'Grill 5 minutes per side', 'Finish on indirect heat', 'Rest before serving'] },
  { id: 15, title: 'Pork Belly Burnt Ends', spice: 'sugar-sand', protein: 'pork', method: 'smoke', time: '4 hours', difficulty: 'Intermediate', description: 'Meat candy—impossibly rich.', instructions: ['Cut belly into cubes', 'Toss with Sugar Sand', 'Smoke 2 hours', 'Add butter and maple', 'Caramelize until tender'] },
  { id: 16, title: 'Stuffed Pork Loin', spice: 'sugar-sand', protein: 'pork', method: 'oven', time: '1.5 hours', difficulty: 'Intermediate', description: 'Holiday table centerpiece.', instructions: ['Butterfly and pound flat', 'Fill with spinach, tomatoes', 'Roll and tie', 'Coat with Sugar Sand', 'Roast to 145°F'] },
  { id: 17, title: 'Pork Steaks', spice: 'sugar-sand', protein: 'pork', method: 'grill', time: '30 min', difficulty: 'Easy', description: 'Midwest classic meets New England maple.', instructions: ['Cut shoulder into steaks', 'Season with Sugar Sand', 'Grill 6 minutes per side', 'Baste with apple cider', 'Rest before serving'] },
  { id: 18, title: 'Slow Cooker Carnitas', spice: 'sugar-sand', protein: 'pork', method: 'slow', time: '8 hours', difficulty: 'Easy', description: 'Hands-off, hands-down delicious.', instructions: ['Cut shoulder into chunks', 'Coat with Sugar Sand', 'Add orange juice', 'Cook on low 8 hours', 'Crisp under broiler'] },
  // BAYSIDE - CHICKEN
  { id: 19, title: 'Lemon Herb Thighs', spice: 'bayside', protein: 'chicken', method: 'grill', time: '30 min', difficulty: 'Easy', description: 'Crispy skin, Mediterranean soul.', instructions: ['Pat thighs dry', 'Rub Bayside under and over skin', 'Grill skin side down first', 'Flip when golden', 'Cook to 165°F'] },
  { id: 20, title: 'Roast Chicken', spice: 'bayside', protein: 'chicken', method: 'oven', time: '1.5 hours', difficulty: 'Intermediate', description: 'Sunday supper perfection.', instructions: ['Pat dry inside and out', 'Rub Bayside under skin', 'Truss legs, tuck wings', 'Roast at 425°F to 165°F', 'Rest before carving'] },
  { id: 21, title: 'Chicken Souvlaki', spice: 'bayside', protein: 'chicken', method: 'grill', time: '25 min', difficulty: 'Easy', description: 'Greek flavors for summer.', instructions: ['Cut breast into cubes', 'Marinate in Bayside, lemon, oil', 'Thread onto skewers', 'Grill, turning often', 'Serve in pita'] },
  { id: 22, title: 'Sheet Pan Dinner', spice: 'bayside', protein: 'chicken', method: 'oven', time: '45 min', difficulty: 'Easy', description: 'Weeknight dinner, minimal cleanup.', instructions: ['Toss chicken with Bayside', 'Arrange with vegetables', 'Roast at 425°F', 'Stir halfway', 'Finish with lemon'] },
  { id: 23, title: 'Spatchcock Chicken', spice: 'bayside', protein: 'chicken', method: 'grill', time: '45 min', difficulty: 'Intermediate', description: 'Faster roasting, crispier skin.', instructions: ['Remove backbone', 'Press flat, season', 'Grill indirect, skin up', 'Flip for final 10 minutes', 'Rest before cutting'] },
  { id: 24, title: 'Chicken Drumsticks', spice: 'bayside', protein: 'chicken', method: 'oven', time: '45 min', difficulty: 'Easy', description: 'Kid-friendly crowd pleaser.', instructions: ['Pat drumsticks dry', 'Toss with Bayside and oil', 'Arrange on wire rack', 'Bake at 425°F', 'Cook to 175°F'] },
  { id: 25, title: 'Chicken Shawarma', spice: 'bayside', protein: 'chicken', method: 'oven', time: '30 min', difficulty: 'Easy', description: 'Middle Eastern street food.', instructions: ['Slice thighs thin', 'Marinate in Bayside, yogurt', 'Spread on sheet pan', 'Broil until charred', 'Serve in warm pita'] },
  { id: 26, title: 'Smoked Wings', spice: 'bayside', protein: 'chicken', method: 'smoke', time: '2 hours', difficulty: 'Easy', description: 'Smoky depth fried wings can\'t match.', instructions: ['Pat wings dry', 'Season with Bayside', 'Smoke at 275°F 1.5 hours', 'Increase to 350°F to crisp', 'Toss with butter'] },
  { id: 27, title: 'Chicken Paillard', spice: 'bayside', protein: 'chicken', method: 'pan', time: '15 min', difficulty: 'Easy', description: 'Thin-pounded for quick cooking.', instructions: ['Pound breast to 1/4 inch', 'Season with Bayside', 'Sear 2 minutes per side', 'Top with arugula', 'Drizzle with vinaigrette'] },
  { id: 28, title: 'Chicken Cacciatore', spice: 'bayside', protein: 'chicken', method: 'pan', time: '1 hour', difficulty: 'Intermediate', description: 'Rustic Italian comfort.', instructions: ['Season and brown thighs', 'Sauté peppers and tomatoes', 'Add crushed tomatoes, olives', 'Nestle chicken in', 'Simmer until tender'] },
  // DOCKSIDE - FISH
  { id: 29, title: 'Pan-Seared Cod', spice: 'dockside', protein: 'fish', method: 'pan', time: '15 min', difficulty: 'Easy', description: 'Delicate, flaky, bright—straight from the dock.', instructions: ['Pat cod dry', 'Season with Dockside', 'Sear 3-4 minutes', 'Flip gently', 'Squeeze lemon'] },
  { id: 30, title: 'Grilled Shrimp Skewers', spice: 'dockside', protein: 'fish', method: 'grill', time: '15 min', difficulty: 'Easy', description: 'Summer on a stick.', instructions: ['Toss shrimp with Dockside', 'Thread onto skewers', 'Grill 2-3 minutes per side', 'Squeeze lemon', 'Serve with bread'] },
  { id: 31, title: 'Baked Haddock', spice: 'dockside', protein: 'fish', method: 'oven', time: '20 min', difficulty: 'Easy', description: 'Cape Cod\'s favorite fish.', instructions: ['Place haddock in dish', 'Season with Dockside', 'Dot with butter', 'Bake at 400°F', 'Garnish with dill'] },
  { id: 32, title: 'Seared Scallops', spice: 'dockside', protein: 'fish', method: 'pan', time: '10 min', difficulty: 'Intermediate', description: 'Restaurant-quality sear.', instructions: ['Pat scallops very dry', 'Season lightly', 'Sear in smoking pan 2 min', 'Flip, cook 1 minute more', 'Serve with brown butter'] },
  { id: 33, title: 'Grilled Branzino', spice: 'dockside', protein: 'fish', method: 'grill', time: '25 min', difficulty: 'Intermediate', description: 'Impressive whole fish.', instructions: ['Score both sides', 'Season inside and out', 'Stuff with lemon, herbs', 'Grill 6-7 min per side', 'Drizzle with olive oil'] },
  { id: 34, title: 'Shrimp Scampi', spice: 'dockside', protein: 'fish', method: 'pan', time: '15 min', difficulty: 'Easy', description: 'Classic with herbal depth.', instructions: ['Season shrimp with Dockside', 'Sauté in butter and oil', 'Add wine and lemon', 'Toss with linguine', 'Finish with parsley'] },
  { id: 35, title: 'Fish Tacos', spice: 'dockside', protein: 'fish', method: 'pan', time: '20 min', difficulty: 'Easy', description: 'Coastal casual at its best.', instructions: ['Season cod with Dockside', 'Pan-fry until golden', 'Warm tortillas', 'Top with slaw and crema', 'Add cilantro'] },
  { id: 36, title: 'Broiled Lobster Tails', spice: 'dockside', protein: 'fish', method: 'oven', time: '15 min', difficulty: 'Easy', description: 'A Cape Cod celebration.', instructions: ['Split tails lengthwise', 'Season with Dockside, butter', 'Broil 8-10 minutes', 'Until opaque', 'Serve with drawn butter'] },
  { id: 37, title: 'Clam Bake Packets', spice: 'dockside', protein: 'fish', method: 'grill', time: '20 min', difficulty: 'Easy', description: 'Beach tradition, backyard execution.', instructions: ['Layer clams, shrimp, corn', 'Season with Dockside', 'Add butter, seal packets', 'Grill 15-20 minutes', 'Serve with bread'] },
  { id: 38, title: 'Crab Cakes', spice: 'dockside', protein: 'fish', method: 'pan', time: '25 min', difficulty: 'Intermediate', description: 'All crab, minimal filler.', instructions: ['Mix crab with Dockside, mayo, egg', 'Add breadcrumbs to bind', 'Form patties, chill', 'Pan-fry until golden', 'Serve with remoulade'] },
  // THE '95 - HEAT
  { id: 39, title: "Winner's Circle Wings", spice: 'the-95', protein: 'chicken', method: 'grill', time: '45 min', difficulty: 'Easy', description: 'Game day heat for champions.', instructions: ['Toss wings with The \'95', 'Rest 30 minutes', 'Grill, turning often', 'Brush with oil', 'Serve with ranch'] },
  { id: 40, title: 'Spicy Smoked Ribs', spice: 'the-95', protein: 'pork', method: 'smoke', time: '6 hours', difficulty: 'Intermediate', description: 'Ghost pepper meets smoke.', instructions: ['Remove membrane', 'Apply The \'95 liberally', 'Smoke at 250°F 5 hours', 'Wrap final hour', 'Serve with pickles'] },
  { id: 41, title: 'Nashville Hot Chicken', spice: 'the-95', protein: 'chicken', method: 'pan', time: '45 min', difficulty: 'Intermediate', description: 'Tennessee fire, Cape Cod style.', instructions: ['Dredge thighs in flour', 'Fry until golden', 'Mix The \'95 with hot oil', 'Brush on chicken', 'Serve on white bread'] },
  { id: 42, title: 'Fire-Roasted Salsa', spice: 'the-95', protein: 'vegetables', method: 'grill', time: '30 min', difficulty: 'Easy', description: 'Smoky heat for chips.', instructions: ['Char tomatoes and peppers', 'Blend with The \'95', 'Add lime juice', 'Season with salt', 'Rest 30 minutes'] },
  { id: 43, title: 'Spicy Beef Jerky', spice: 'the-95', protein: 'beef', method: 'smoke', time: '6 hours', difficulty: 'Intermediate', description: 'Trail fuel with serious kick.', instructions: ['Slice flank thin', 'Marinate in soy, The \'95', 'Arrange on racks', 'Smoke at 175°F', 'Until dried but pliable'] },
  // FAR SHORE - ASIAN
  { id: 44, title: 'Sesame Ginger Salmon', spice: 'far-shore', protein: 'fish', method: 'oven', time: '20 min', difficulty: 'Easy', description: 'East meets Cape.', instructions: ['Coat salmon with Far Shore', 'Place on parchment', 'Roast at 400°F 12-15 min', 'Broil to caramelize', 'Top with sesame seeds'] },
  { id: 45, title: 'Asian Stir-Fry', spice: 'far-shore', protein: 'chicken', method: 'pan', time: '20 min', difficulty: 'Easy', description: 'Weeknight speed, weekend flavor.', instructions: ['Slice chicken thin', 'Toss with Far Shore', 'Stir-fry in hot wok', 'Add vegetables', 'Serve over rice'] },
  { id: 46, title: 'Grilled Tuna Steaks', spice: 'far-shore', protein: 'fish', method: 'grill', time: '10 min', difficulty: 'Easy', description: 'Sushi-grade sear.', instructions: ['Press Far Shore into tuna', 'Grill over high heat', '90 seconds per side', 'Slice against grain', 'Serve with wasabi'] },
  { id: 47, title: 'Five Spice Pork Belly', spice: 'far-shore', protein: 'pork', method: 'oven', time: '3 hours', difficulty: 'Intermediate', description: 'Crispy skin, complex flavor.', instructions: ['Score skin tightly', 'Rub meat with Far Shore', 'Roast at 325°F 2.5 hours', 'Increase to 450°F', 'Slice for buns'] },
  { id: 48, title: 'Orange Ginger Shrimp', spice: 'far-shore', protein: 'fish', method: 'pan', time: '15 min', difficulty: 'Easy', description: 'Bright citrus, warming ginger.', instructions: ['Toss shrimp with Far Shore', 'Stir-fry until pink', 'Add orange juice and zest', 'Reduce to glaze', 'Serve over rice'] }
];

// Meal plans
const mealPlans = {
  weeknight: { name: 'Weeknight Winners', description: 'Quick meals for busy Cape Cod evenings.', days: [
    { day: 'Monday', recipe: 'Lemon Herb Thighs', spice: 'bayside', side: 'Roasted potatoes, salad' },
    { day: 'Tuesday', recipe: 'Pan-Seared Cod', spice: 'dockside', side: 'Rice, steamed broccoli' },
    { day: 'Wednesday', recipe: 'Smash Burgers', spice: 'black-kettle', side: 'Sweet potato fries' },
    { day: 'Thursday', recipe: 'Asian Stir-Fry', spice: 'far-shore', side: 'Jasmine rice' },
    { day: 'Friday', recipe: 'Maple Sage Tenderloin', spice: 'sugar-sand', side: 'Mashed potatoes' }
  ]},
  grillmaster: { name: 'Grillmaster Weekend', description: 'Fire up the grill like the Fourth of July.', days: [
    { day: 'Saturday Lunch', recipe: "Winner's Circle Wings", spice: 'the-95', side: 'Celery, blue cheese' },
    { day: 'Saturday Dinner', recipe: 'Championship Smoked Brisket', spice: 'black-kettle', side: 'Pickles, beans' },
    { day: 'Sunday Lunch', recipe: 'Grilled Shrimp Skewers', spice: 'dockside', side: 'Crusty bread' },
    { day: 'Sunday Dinner', recipe: 'Cape Cod Pulled Pork', spice: 'sugar-sand', side: 'Coleslaw, cornbread' }
  ]},
  seafood: { name: 'Seafood Week', description: 'Fresh from Cape Cod Bay.', days: [
    { day: 'Monday', recipe: 'Pan-Seared Cod', spice: 'dockside', side: 'Lemon rice' },
    { day: 'Tuesday', recipe: 'Sesame Ginger Salmon', spice: 'far-shore', side: 'Bok choy' },
    { day: 'Wednesday', recipe: 'Grilled Shrimp Skewers', spice: 'dockside', side: 'Quinoa salad' },
    { day: 'Thursday', recipe: 'Grilled Tuna Steaks', spice: 'far-shore', side: 'Seaweed salad' },
    { day: 'Friday', recipe: 'Baked Haddock', spice: 'dockside', side: 'Roasted potatoes' }
  ]},
  summer: { name: 'Cape Cod Summer', description: 'Seasonal favorites for long summer days.', days: [
    { day: 'Monday', recipe: 'Chicken Souvlaki', spice: 'bayside', side: 'Pita, tzatziki' },
    { day: 'Tuesday', recipe: 'Fish Tacos', spice: 'dockside', side: 'Black beans' },
    { day: 'Wednesday', recipe: 'Beef Kebabs', spice: 'black-kettle', side: 'Grilled vegetables' },
    { day: 'Thursday', recipe: 'Clam Bake Packets', spice: 'dockside', side: 'Corn, butter' },
    { day: 'Friday', recipe: 'Competition Ribs', spice: 'sugar-sand', side: 'Baked beans' }
  ]}
};

// Cape Cod content - comprehensive historical information
const capeContent = {
  sandwich: { 
    title: 'Sandwich, Massachusetts', 
    subtitle: 'The Oldest Town on Cape Cod • Founded 1637',
    sections: [
      {
        heading: 'The Founding',
        content: `In 1637, a persuasive and energetic man named Edmund Freeman led a group of settlers from Saugus to establish the first town on Cape Cod. They named it Sandwich after the seaport in Kent, England—drawn by broad salt marshes that resembled their homeland and could immediately provide hay for livestock without cultivation.

The location was part of Plymouth Colony, whose Pilgrim founders were notably more liberal in their religious beliefs than the Puritans of Boston's Massachusetts Bay Colony. Freeman's brother-in-law, John Beauchamp, was one of London's "Adventurer" investors in Plymouth Colony—early venture capitalists who funded the infant colony and sought to profit from its success.

Sandwich was incorporated in 1639, making it one of the oldest towns in the United States—settled by European immigrants nearly 150 years before the American Revolution. The town motto, "Post tot Naufracia Portus" (Latin for "after so many shipwrecks, a haven"), speaks to the treacherous waters that would define Cape Cod's maritime history.`
      },
      {
        heading: 'The Glass Era',
        content: `In 1825, a Boston businessman named Deming Jarves transformed Sandwich forever. Jarves, who has been called "the father of the American glass industry," chose Sandwich not for its beach sand (too impure for glassmaking) but for its extensive woodlands to fuel the furnaces, shallow harbor for shipping, and proximity to Boston by water.

Construction began on April 19, 1825. Just 76 days later, on the Fourth of July, Sandwich glassmakers produced their first blown and molded glass object. The Boston & Sandwich Glass Company would grow to employ 500 workers and four furnaces of ten pots each, turning out 50-60 tons of cut and pressed glass per week.

Jarves perfected the pressing process, receiving patents for improvements in mold designs and techniques. The company became famous for its "lacy" glass—intricate patterns of dots, circles, diamonds, leaves, and garlands covering entire surfaces. They mass-produced a stunning spectrum of colored tableware: lamps, candlesticks, perfume bottles, and the famous dolphin candlesticks that are now museum pieces.

The factory's closure in 1888 following a national glass workers' strike caused a severe economic depression, forcing people to leave Sandwich or turn to other professions. But the legacy endures—the Sandwich Glass Museum still operates today, and the town has been designated the "Glass Town Cultural District" by the Massachusetts Cultural Council.`
      },
      {
        heading: 'Sandwich Today',
        content: `Contemporary Sandwich is punctuated by rows of weathered clapboard homes, Greek Revival houses, and a town common encircled by ancient shade trees. Historic Route 6A winds through town, featuring great shops, restaurants, antiquing, and galleries.

The iconic Sandwich Boardwalk, originally built in 1875 and extending 1,350 feet, crosses Mill Creek, low dunes, and salt marsh home to aquatic wildlife and shorebirds. After Hurricane Bob destroyed it in 1991, a fundraising effort rebuilt it—now almost every plank bears a personalized engraved message from donors.

The 1654 Dexter Grist Mill still grinds corn at the edge of tranquil Shawme Pond. The Hoxie House, one of the oldest surviving homes on Cape Cod, dates to the late 1600s. Heritage Museums and Gardens houses antique automobiles and an authentic 1908 carousel.

This is where we handcraft Dentist's Son spice rubs—in a town that has valued craftsmanship for nearly four centuries.`
      }
    ]
  },
  capeCod: { 
    title: 'Cape Cod', 
    subtitle: 'Where Land Meets Sea • 65 Miles of History',
    sections: [
      {
        heading: 'Ancient Shores',
        content: `Cape Cod bends into the Atlantic like a flexed arm, formed during the last ice age by glaciers pushing sand and rocks into the ocean. The Wampanoag people inhabited these shores for thousands of years before European contact, developing sophisticated fishing and farming techniques. They built wetuash—dome-shaped homes of wooden frames covered with woven mats—and cultivated corn, beans, and squash while harvesting the abundant shellfish and fish from these waters.

In 1602, English explorer Bartholomew Gosnold named this place "Cape Cod" for the abundance of codfish in its waters. The Pilgrims first landed in America on the tip of lower Cape Cod in November 1620—not at Plymouth Rock, but at Provincetown. Finding the land too sandy to support crops, they sailed across Cape Cod Bay to establish Plymouth. Over the next 20 years, settlers spread back to the Cape, following an old Indian trail that is now the scenic Route 6A.

The first homes built by English settlers were wigwams copied from the Wampanoag. Eventually, settlers stripped the land of its forests to make farmland, graze sheep, and build the steep-roof saltbox and Cape Cod cottage—still the most popular house style on the Cape and copied all over the country.`
      },
      {
        heading: 'Maritime Heritage',
        content: `By the 18th century, Cape Cod had become a bustling hub for fishing and whaling. The Wampanoag had taught settlers how to strip blubber from stranded whales, creating a thriving industry. Whale products—oil for lamps, bone for corsets and buggy whips—were staples of colonial life. Provincetown ranked fifth in the nation for whaling vessels, and the story of the Essex, a Nantucket whaleship attacked and sunk by a sperm whale in 1820, inspired Herman Melville's Moby-Dick.

Cape Cod's treacherous outer banks earned the nickname "Graveyard of the Atlantic." In the 1880s, shipwrecks occurred once every two weeks. More than 1,000 ships met their fate in these waters before the Cape Cod Canal was built. The Whydah, a pirate ship captained by "Black Sam" Bellamy, sank in a 1717 nor'easter—its treasure, discovered centuries later, is displayed at the Whydah Pirate Museum.

The idea of a canal through the Cape dates to Plymouth Colony in the 1600s. George Washington himself ordered a survey in 1776, recognizing its strategic military importance. After numerous failed attempts, financier August Belmont Jr. finally completed the canal in 1914, shortening the journey around the Cape by up to 135 miles. The federal government purchased it in 1928, and the Army Corps of Engineers widened it to 480 feet—making it the widest sea-level canal in the world at the time.`
      },
      {
        heading: 'The Cape Today',
        content: `The Cape remained isolated well into the 1920s. Though Provincetown attracted artists and writers from New York, the rest of the Cape was rural and quiet. The building of the Mid-Cape Highway in the 1950s marked the great boom in growth, and President John F. Kennedy, who summered in Hyannis Port, added to the area's allure. In 1961, Kennedy signed legislation establishing the Cape Cod National Seashore.

Today, the fishing industry—including lobstering, scalloping, and oyster aquaculture—still brings in over $2 million monthly. Cranberry farming thrives in the region's unique bogs. Tourism, construction, and light industry drive the modern economy, but the character remains: salt marshes, weathered shingle cottages, lighthouses standing sentinel, and the enduring rhythms of the tide.

Our spice rubs are crafted for this table. Dockside honors the cod and haddock that gave the Cape its name. Bayside captures the golden light of summer afternoons on the bay. Sugar Sand recalls the soft white beaches of Town Neck. Every blend carries the spirit of salt air, wooden boats, and family gatherings on weathered decks overlooking the water.`
      }
    ]
  },
  kettleers: { 
    title: 'The Kettleers & The Cape League', 
    subtitle: '1995 Cape League Champions • A Family Legacy',
    sections: [
      {
        heading: 'America\'s Premier Summer League',
        content: `The Cape Cod Baseball League is the nation's premier summer collegiate baseball league—and has been since before your great-grandparents were born. As early as the 1860s, baseball teams representing Cape Cod towns competed against one another. The earliest newspaper account describes an 1867 game right here in Sandwich between the hometown "Nichols Club" and the visiting Cummaquid team.

What makes the Cape League special? One in every six Major League Baseball players has worn a Cape League uniform. Over 1,600 alumni have appeared in MLB games. More than 400 Cape Leaguers were on major league rosters in 2024 alone. The list of Hall of Famers includes Tom Seaver, Carlton Fisk, Thurman Munson, Craig Biggio, Jeff Bagwell, Frank Thomas, and Todd Helton—all Cape League alumni.

In 1985, the league became the first collegiate summer league to return to wooden bats, mirroring professional play and dramatically increasing its prestige among MLB scouts. Today, dozens of scouts attend every game, and first-round draft picks emerge from the Cape every year—17 Cape League alumni were selected in the first round of the 2025 MLB Draft alone.

The league's ten teams are community institutions. Players live with host families, games are free to attend, and volunteers run everything from concessions to scorekeeping. It's baseball the way it used to be—wooden bats, small-town ballparks, and stars of tomorrow playing for the love of the game.`
      },
      {
        heading: 'The Cotuit Kettleers',
        content: `The Cotuit Kettleers are the most successful franchise in Cape League history, with 17 championships—more than any other team. Founded in 1947, the team plays at Lowell Park in Cotuit, a quiet village in the southwest corner of Barnstable.

The name "Kettleers" was coined by Cape Cod Standard-Times sports editor Ed Semprini, recalling a legendary land transaction between early settlers and Native Americans involving the exchange of a brass kettle. The team has been owned and operated by the non-profit Cotuit Athletic Association since its founding.

Over 100 Kettleers have gone on to play in Major League Baseball, including Will Clark, Ron Darling, Tim Salmon, Terry Steinbach, Greg Vaughn, and many more. Steinbach still holds the league record for hits in a season. The team's Hall of Fame inductees include Arnold Mycock, who served as general manager from 1950 to 1995—a 45-year tenure that defined the organization.

My father served as General Manager and my mother as Treasurer, dedicating years to the organization that became family to us. They joined the community of host families, volunteers, board members, and fans who keep this tradition alive summer after summer.`
      },
      {
        heading: 'The Summer of \'95',
        content: `First-year manager Mike Coutts led the 1995 Kettleers to one of the most dominant seasons in Cape League history. The team finished 29-11-3, winning the Western Division with an 11-game winning streak. They never lost two games in a row all season.

The unquestioned star was catcher/outfielder Josh Paul from Vanderbilt, who won the league batting crown with a .364 average and slugged .652. He was named both league MVP and Outstanding Pro Prospect—honors that proved prophetic when he went on to play several years in the majors. Josh was inducted into the Cape League Hall of Fame in 2006.

Pitcher Jack Cressend went 7-1 with a 2.44 ERA that summer, then returned in 1996 to go 7-0 with a 1.89 ERA. He pitched five seasons in the majors with the Twins and Indians, and was inducted into the Cape League Hall of Fame in 2010. After his playing career, Cressend served as pitching coach at Tulane and now works as National Pitching Crosschecker for the Los Angeles Dodgers.

In the championship series against Chatham, the Kettleers won Game 1 handily, 16-6. After dropping Game 2, they came back for the decisive Game 3 at Lowell Park. Josh Gandy started, and the game was tight until the Kettleers erupted for seven runs in the fifth inning, punctuated by Glenn Davis's three-run home run. When Kevin Sheredy recorded the final out, the dogpile began.

"It was the first championship I ever won, and I never won one again as a player," Josh Paul said at the team's 2024 reunion. "That picture of me jumping on top of the pile—that's what baseball is all about."

That championship spirit lives on in The '95, our hottest blend—ghost pepper fire tempered with smoky depth, for those who play to win.`
      }
    ]
  }
};

// Colors
const colors = { navy: '#1a2744', navyDark: '#0f1829', navyLight: '#243454', gold: '#c9a227', cream: '#f5f1e8' };

function DentistsSonApp() {
  const [currentPage, setCurrentPage] = useState('home');
  const [cart, setCart] = useState([]);
  const [selectedRecipe, setSelectedRecipe] = useState(null);
  const [recipeFilters, setRecipeFilters] = useState({ spice: 'all', protein: 'all', method: 'all' });
  const [pairingProtein, setPairingProtein] = useState('');
  const [selectedMealPlan, setSelectedMealPlan] = useState(null);
  const [subscriptionStep, setSubscriptionStep] = useState(1);
  const [subFrequency, setSubFrequency] = useState('monthly');
  const [subSpices, setSubSpices] = useState([]);
  const [capeSection, setCapeSection] = useState('sandwich');

  const addToCart = (spice) => {
    const existing = cart.find(item => item.id === spice.id);
    if (existing) setCart(cart.map(item => item.id === spice.id ? { ...item, quantity: item.quantity + 1 } : item));
    else setCart([...cart, { ...spice, quantity: 1 }]);
  };

  const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
  const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);

  const filteredRecipes = recipes.filter(r => 
    (recipeFilters.spice === 'all' || r.spice === recipeFilters.spice) &&
    (recipeFilters.protein === 'all' || r.protein === recipeFilters.protein) &&
    (recipeFilters.method === 'all' || r.method === recipeFilters.method)
  );

  const pairingMap = { beef: ['black-kettle', 'the-95'], pork: ['sugar-sand', 'the-95', 'far-shore'], chicken: ['bayside', 'the-95', 'far-shore'], fish: ['dockside', 'far-shore'], vegetables: ['bayside', 'far-shore', 'dockside'] };

  const Lighthouse = ({ size = 60 }) => (
    <svg width={size} height={size} viewBox="0 0 100 100" style={{ display: 'block', margin: '0 auto 1.5rem' }}>
      <circle cx="50" cy="50" r="46" fill="none" stroke={colors.gold} strokeWidth="2" opacity="0.4"/>
      <polygon points="50,22 57,35 43,35" fill={colors.gold} opacity="0.9"/>
      <rect x="46" y="35" width="8" height="32" fill={colors.cream}/>
      <rect x="46" y="40" width="8" height="4" fill={colors.gold}/>
      <rect x="46" y="50" width="8" height="4" fill={colors.gold}/>
      <rect x="46" y="60" width="8" height="4" fill={colors.gold}/>
      <path d="M38,72 Q50,64 62,72" fill="none" stroke={colors.gold} strokeWidth="2" opacity="0.5"/>
    </svg>
  );

  const s = {
    app: { fontFamily: "'Georgia', serif", background: colors.navy, minHeight: '100vh', color: colors.cream },
    nav: { background: colors.navyDark, borderBottom: `1px solid ${colors.navyLight}`, padding: '1rem 2rem', position: 'sticky', top: 0, zIndex: 100, display: 'flex', justifyContent: 'space-between', alignItems: 'center' },
    logo: { fontFamily: "'Georgia', serif", fontSize: '1.4rem', color: colors.gold, cursor: 'pointer' },
    navLink: { color: colors.cream, background: 'none', border: 'none', fontSize: '0.75rem', letterSpacing: '0.15em', textTransform: 'uppercase', cursor: 'pointer', opacity: 0.8 },
    section: { padding: '4rem 2rem', maxWidth: '1100px', margin: '0 auto' },
    title: { fontFamily: "'Georgia', serif", fontSize: '2rem', textAlign: 'center', marginBottom: '0.5rem' },
    subtitle: { textAlign: 'center', color: colors.gold, letterSpacing: '0.25em', textTransform: 'uppercase', fontSize: '0.7rem', marginBottom: '2rem' },
    grid: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '1.5rem' },
    card: { background: colors.navyLight, border: `1px solid rgba(201,162,39,0.2)`, padding: '1.75rem', cursor: 'pointer' },
    badge: { background: colors.gold, color: colors.navyDark, padding: '0.2rem 0.6rem', fontSize: '0.6rem', letterSpacing: '0.1em', textTransform: 'uppercase', fontWeight: 700, display: 'inline-block', marginBottom: '0.75rem' },
    btn: { background: colors.gold, color: colors.navyDark, border: 'none', padding: '0.9rem 2rem', fontSize: '0.75rem', letterSpacing: '0.15em', textTransform: 'uppercase', cursor: 'pointer', fontWeight: 600 },
    btnOutline: { background: 'transparent', border: `1px solid ${colors.gold}`, color: colors.gold, padding: '0.5rem 1rem', fontSize: '0.7rem', letterSpacing: '0.1em', textTransform: 'uppercase', cursor: 'pointer' },
    select: { background: colors.navyLight, border: `1px solid rgba(201,162,39,0.3)`, color: colors.cream, padding: '0.6rem 1.2rem', fontSize: '0.85rem' },
    modal: { position: 'fixed', inset: 0, background: 'rgba(15,24,41,0.95)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 200, padding: '2rem' },
    modalBox: { background: colors.navy, border: `1px solid ${colors.gold}`, maxWidth: '550px', width: '100%', maxHeight: '85vh', overflow: 'auto', padding: '2.5rem', position: 'relative' },
    footer: { background: colors.navyDark, borderTop: `1px solid ${colors.navyLight}`, padding: '3rem 2rem', textAlign: 'center' }
  };

  const Nav = () => (
    <nav style={s.nav}>
      <div style={s.logo} onClick={() => setCurrentPage('home')}>Dentist's Son <span style={{fontSize: '0.6rem', opacity: 0.7, letterSpacing: '0.1em'}}>SANDWICH, MA</span></div>
      <div style={{ display: 'flex', gap: '1.5rem', flexWrap: 'wrap' }}>
        {['shop', 'recipes', 'pairing', 'mealplans', 'cape', 'subscribe'].map(p => (
          <button key={p} style={s.navLink} onClick={() => setCurrentPage(p)}>{p === 'cape' ? 'Cape Cod' : p === 'mealplans' ? 'Meals' : p}</button>
        ))}
        <button style={s.navLink} onClick={() => setCurrentPage('cart')}>Cart {cartCount > 0 && <span style={{ background: colors.gold, color: colors.navyDark, borderRadius: '50%', padding: '0.15rem 0.4rem', fontSize: '0.65rem', marginLeft: '0.3rem' }}>{cartCount}</span>}</button>
      </div>
    </nav>
  );

  const Home = () => (
    <>
      <div style={{ padding: '4rem 2rem', textAlign: 'center', background: colors.navyDark }}>
        <Lighthouse size={100} />
        <p style={{ color: colors.gold, letterSpacing: '0.3em', textTransform: 'uppercase', fontSize: '0.75rem', marginBottom: '0.75rem' }}>Cape Cod's Original FODMAP-Friendly Spice Rubs</p>
        <h1 style={{ fontFamily: "'Playfair Display', Georgia, serif", fontSize: '2.75rem', marginBottom: '1rem' }}>Spice Without Sacrifice</h1>
        <p style={{ fontStyle: 'italic', opacity: 0.85, maxWidth: '500px', margin: '0 auto 2rem' }}>Handcrafted in Sandwich, Massachusetts. No garlic. No onion. All flavor.</p>
        <div style={{ display: 'flex', gap: '1rem', justifyContent: 'center', flexWrap: 'wrap' }}>
          <button style={s.btn} onClick={() => setCurrentPage('shop')}>Shop the Collection</button>
          <button style={s.btnOutline} onClick={() => setCurrentPage('cape')}>Our Cape Cod Story</button>
        </div>
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '1rem', maxWidth: '600px', margin: '3rem auto 0', textAlign: 'center' }}>
          {[['0', 'Garlic or Onion'], ['100%', 'FODMAP Friendly'], ['6', 'Signature Blends'], ['1637', 'Town Founded']].map(([n, l]) => (
            <div key={l}><div style={{ fontSize: '2rem', color: colors.gold }}>{n}</div><div style={{ fontSize: '0.6rem', letterSpacing: '0.15em', textTransform: 'uppercase', opacity: 0.7 }}>{l}</div></div>
          ))}
        </div>
      </div>
      <section style={s.section}>
        <Lighthouse size={45} />
        <p style={s.subtitle}>The Collection</p>
        <h2 style={s.title}>Six Signature Blends</h2>
        <div style={s.grid}>
          {spices.slice(0, 3).map(sp => (
            <div key={sp.id} style={s.card} onClick={() => setCurrentPage('shop')}>
              <div style={s.badge}>{sp.subtitle}</div>
              <h3 style={{ fontSize: '1.3rem', marginBottom: '0.5rem' }}>{sp.name}</h3>
              <p style={{ opacity: 0.75, fontSize: '0.9rem', lineHeight: 1.6 }}>{sp.description}</p>
            </div>
          ))}
        </div>
        <div style={{ textAlign: 'center', marginTop: '2rem' }}><button style={s.btn} onClick={() => setCurrentPage('shop')}>View All Blends</button></div>
      </section>
    </>
  );

  const Shop = () => (
    <section style={s.section}>
      <Lighthouse size={45} />
      <p style={s.subtitle}>The Collection</p>
      <h2 style={s.title}>Six Signature Blends</h2>
      <div style={s.grid}>
        {spices.map(sp => (
          <div key={sp.id} style={{...s.card, cursor: 'default'}}>
            <div style={s.badge}>{sp.subtitle}</div>
            <h3 style={{ fontSize: '1.25rem', marginBottom: '0.5rem' }}>{sp.name}</h3>
            <p style={{ opacity: 0.75, fontSize: '0.9rem', lineHeight: 1.5, marginBottom: '0.75rem' }}>{sp.description}</p>
            <p style={{ fontSize: '0.7rem', opacity: 0.5, marginBottom: '1rem' }}>{sp.ingredients}</p>
            <div style={{ marginBottom: '1rem' }}>{sp.bestFor.map(b => <span key={b} style={{ display: 'inline-block', background: 'rgba(201,162,39,0.15)', color: colors.gold, padding: '0.2rem 0.5rem', fontSize: '0.6rem', marginRight: '0.4rem', marginBottom: '0.4rem' }}>{b}</span>)}</div>
            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
              <span style={{ fontSize: '1.3rem', color: colors.gold }}>${sp.price.toFixed(2)}</span>
              <button style={s.btnOutline} onClick={() => addToCart(sp)}>Add to Cart</button>
            </div>
          </div>
        ))}
      </div>
    </section>
  );

  const Recipes = () => (
    <section style={s.section}>
      <Lighthouse size={45} />
      <p style={s.subtitle}>Recipe Discovery</p>
      <h2 style={s.title}>Cook with Confidence</h2>
      <p style={{ textAlign: 'center', opacity: 0.7, marginBottom: '1.5rem' }}>{recipes.length} FODMAP-friendly recipes</p>
      <div style={{ display: 'flex', gap: '0.75rem', flexWrap: 'wrap', justifyContent: 'center', marginBottom: '2rem' }}>
        <select style={s.select} value={recipeFilters.spice} onChange={e => setRecipeFilters({...recipeFilters, spice: e.target.value})}>
          <option value="all">All Spices</option>
          {spices.map(sp => <option key={sp.id} value={sp.id}>{sp.name}</option>)}
        </select>
        <select style={s.select} value={recipeFilters.protein} onChange={e => setRecipeFilters({...recipeFilters, protein: e.target.value})}>
          <option value="all">All Proteins</option>
          {['beef', 'pork', 'chicken', 'fish', 'vegetables'].map(p => <option key={p} value={p}>{p}</option>)}
        </select>
        <select style={s.select} value={recipeFilters.method} onChange={e => setRecipeFilters({...recipeFilters, method: e.target.value})}>
          <option value="all">All Methods</option>
          {['grill', 'smoke', 'oven', 'pan', 'slow'].map(m => <option key={m} value={m}>{m}</option>)}
        </select>
      </div>
      <p style={{ textAlign: 'center', color: colors.gold, marginBottom: '1.5rem', fontSize: '0.85rem' }}>{filteredRecipes.length} recipes found</p>
      <div style={s.grid}>
        {filteredRecipes.map(r => (
          <div key={r.id} style={s.card} onClick={() => setSelectedRecipe(r)}>
            <div style={s.badge}>{spices.find(sp => sp.id === r.spice)?.name}</div>
            <h3 style={{ fontSize: '1.15rem', marginBottom: '0.4rem' }}>{r.title}</h3>
            <p style={{ opacity: 0.75, fontSize: '0.85rem', marginBottom: '0.75rem' }}>{r.description}</p>
            <div>{[r.time, r.difficulty, r.method].map(t => <span key={t} style={{ display: 'inline-block', background: 'rgba(201,162,39,0.15)', color: colors.gold, padding: '0.2rem 0.5rem', fontSize: '0.6rem', marginRight: '0.4rem' }}>{t}</span>)}</div>
          </div>
        ))}
      </div>
      {selectedRecipe && (
        <div style={s.modal} onClick={() => setSelectedRecipe(null)}>
          <div style={s.modalBox} onClick={e => e.stopPropagation()}>
            <button onClick={() => setSelectedRecipe(null)} style={{ position: 'absolute', top: '1rem', right: '1rem', background: 'none', border: 'none', color: colors.gold, fontSize: '1.5rem', cursor: 'pointer' }}>×</button>
            <div style={s.badge}>{spices.find(sp => sp.id === selectedRecipe.spice)?.name}</div>
            <h2 style={{ fontSize: '1.5rem', marginBottom: '0.5rem' }}>{selectedRecipe.title}</h2>
            <p style={{ opacity: 0.8, marginBottom: '1rem' }}>{selectedRecipe.description}</p>
            <div style={{ marginBottom: '1.5rem' }}>{[selectedRecipe.time, selectedRecipe.difficulty, selectedRecipe.method, selectedRecipe.protein].map(t => <span key={t} style={{ display: 'inline-block', background: 'rgba(201,162,39,0.15)', color: colors.gold, padding: '0.2rem 0.5rem', fontSize: '0.6rem', marginRight: '0.4rem' }}>{t}</span>)}</div>
            <div style={{ height: '1px', background: `linear-gradient(90deg, transparent, ${colors.gold}40, transparent)`, margin: '1.5rem 0' }}></div>
            <h3 style={{ fontSize: '1rem', marginBottom: '1rem' }}>Instructions</h3>
            {selectedRecipe.instructions.map((step, i) => (
              <div key={i} style={{ display: 'flex', gap: '0.75rem', marginBottom: '0.75rem' }}>
                <div style={{ background: colors.navyLight, border: `1px solid ${colors.gold}`, color: colors.gold, width: '24px', height: '24px', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '0.7rem', flexShrink: 0 }}>{i + 1}</div>
                <p style={{ opacity: 0.85, fontSize: '0.9rem' }}>{step}</p>
              </div>
            ))}
            <div style={{ height: '1px', background: `linear-gradient(90deg, transparent, ${colors.gold}40, transparent)`, margin: '1.5rem 0' }}></div>
            <button style={s.btn} onClick={() => { addToCart(spices.find(sp => sp.id === selectedRecipe.spice)); setSelectedRecipe(null); }}>Add {spices.find(sp => sp.id === selectedRecipe.spice)?.name} to Cart</button>
          </div>
        </div>
      )}
    </section>
  );

  const Pairing = () => (
    <section style={s.section}>
      <Lighthouse size={45} />
      <p style={s.subtitle}>Flavor Pairing Tool</p>
      <h2 style={s.title}>Find Your Perfect Match</h2>
      <div style={{ maxWidth: '450px', margin: '0 auto' }}>
        <label style={{ display: 'block', marginBottom: '0.5rem', color: colors.gold, fontSize: '0.7rem', letterSpacing: '0.15em' }}>WHAT ARE YOU COOKING?</label>
        <select style={{ ...s.select, width: '100%', marginBottom: '1.5rem' }} value={pairingProtein} onChange={e => setPairingProtein(e.target.value)}>
          <option value="">Select a protein...</option>
          {['beef', 'pork', 'chicken', 'fish', 'vegetables'].map(p => <option key={p} value={p}>{p}</option>)}
        </select>
        {pairingProtein && (
          <>
            <div style={{ height: '1px', background: `linear-gradient(90deg, transparent, ${colors.gold}40, transparent)`, margin: '1.5rem 0' }}></div>
            <p style={{ color: colors.gold, fontSize: '0.7rem', letterSpacing: '0.15em', marginBottom: '1rem' }}>RECOMMENDED BLENDS</p>
            {pairingMap[pairingProtein]?.map(id => {
              const sp = spices.find(s => s.id === id);
              return (
                <div key={id} style={{ ...s.card, display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.75rem', cursor: 'default' }}>
                  <div>
                    <div style={{ ...s.badge, marginBottom: '0.4rem' }}>{sp.subtitle}</div>
                    <h4 style={{ fontSize: '1.1rem', marginBottom: '0.25rem' }}>{sp.name}</h4>
                    <p style={{ opacity: 0.7, fontSize: '0.8rem' }}>{sp.description}</p>
                  </div>
                  <button style={s.btnOutline} onClick={() => addToCart(sp)}>Add</button>
                </div>
              );
            })}
          </>
        )}
      </div>
    </section>
  );

  const MealPlans = () => (
    <section style={s.section}>
      <Lighthouse size={45} />
      <p style={s.subtitle}>FODMAP-Friendly Meal Planning</p>
      <h2 style={s.title}>Eat Well All Week</h2>
      <div style={s.grid}>
        {Object.entries(mealPlans).map(([key, plan]) => (
          <div key={key} style={s.card} onClick={() => setSelectedMealPlan(key)}>
            <h3 style={{ fontSize: '1.2rem', marginBottom: '0.4rem' }}>{plan.name}</h3>
            <p style={{ opacity: 0.75, fontSize: '0.9rem', marginBottom: '0.5rem' }}>{plan.description}</p>
            <p style={{ color: colors.gold, fontSize: '0.8rem' }}>{plan.days.length} meals →</p>
          </div>
        ))}
      </div>
      {selectedMealPlan && (
        <div style={s.modal} onClick={() => setSelectedMealPlan(null)}>
          <div style={{ ...s.modalBox, maxWidth: '600px' }} onClick={e => e.stopPropagation()}>
            <button onClick={() => setSelectedMealPlan(null)} style={{ position: 'absolute', top: '1rem', right: '1rem', background: 'none', border: 'none', color: colors.gold, fontSize: '1.5rem', cursor: 'pointer' }}>×</button>
            <h2 style={{ fontSize: '1.5rem', marginBottom: '0.5rem' }}>{mealPlans[selectedMealPlan].name}</h2>
            <p style={{ opacity: 0.8, marginBottom: '1.5rem' }}>{mealPlans[selectedMealPlan].description}</p>
            {mealPlans[selectedMealPlan].days.map((day, i) => (
              <div key={i} style={{ background: colors.navyLight, padding: '1rem', marginBottom: '0.5rem', border: `1px solid rgba(201,162,39,0.15)` }}>
                <p style={{ color: colors.gold, fontSize: '0.65rem', letterSpacing: '0.15em', marginBottom: '0.3rem' }}>{day.day.toUpperCase()}</p>
                <h4 style={{ fontSize: '1rem', marginBottom: '0.2rem' }}>{day.recipe}</h4>
                <p style={{ opacity: 0.7, fontSize: '0.8rem' }}><span style={{ color: colors.gold }}>{spices.find(s => s.id === day.spice)?.name}</span> · {day.side}</p>
              </div>
            ))}
            <div style={{ height: '1px', background: `linear-gradient(90deg, transparent, ${colors.gold}40, transparent)`, margin: '1.5rem 0' }}></div>
            <button style={s.btn} onClick={() => { [...new Set(mealPlans[selectedMealPlan].days.map(d => d.spice))].forEach(id => addToCart(spices.find(s => s.id === id))); setSelectedMealPlan(null); }}>Add All Spices to Cart</button>
          </div>
        </div>
      )}
    </section>
  );

  const CapeCod = () => (
    <section style={s.section}>
      <Lighthouse size={60} />
      <p style={s.subtitle}>Our Roots</p>
      <h2 style={s.title}>Cape Cod Heritage</h2>
      
      <div style={{ display: 'flex', justifyContent: 'center', gap: 0, marginBottom: '2rem', borderBottom: `1px solid ${colors.navyLight}` }}>
        {Object.entries(capeContent).map(([key, c]) => (
          <button key={key} onClick={() => setCapeSection(key)} style={{ padding: '0.6rem 1.25rem', background: 'none', border: 'none', color: capeSection === key ? colors.gold : colors.cream, cursor: 'pointer', fontSize: '0.7rem', letterSpacing: '0.1em', textTransform: 'uppercase', opacity: capeSection === key ? 1 : 0.6, borderBottom: capeSection === key ? `2px solid ${colors.gold}` : 'none' }}>{key === 'kettleers' ? 'The Kettleers' : key === 'capeCod' ? 'Cape Cod' : 'Sandwich'}</button>
        ))}
      </div>

      <div style={{ maxWidth: '750px', margin: '0 auto' }}>
        <p style={{ color: colors.gold, fontSize: '0.65rem', letterSpacing: '0.2em', marginBottom: '0.4rem', textAlign: 'center' }}>{capeContent[capeSection].subtitle.toUpperCase()}</p>
        <h3 style={{ fontSize: '1.75rem', marginBottom: '2rem', textAlign: 'center' }}>{capeContent[capeSection].title}</h3>
        
        {capeContent[capeSection].sections.map((section, i) => (
          <div key={i} style={{ marginBottom: '2.5rem' }}>
            <h4 style={{ color: colors.gold, fontSize: '1.1rem', marginBottom: '1rem', borderBottom: `1px solid ${colors.navyLight}`, paddingBottom: '0.5rem' }}>{section.heading}</h4>
            {section.content.split('\n\n').map((para, j) => (
              <p key={j} style={{ opacity: 0.85, fontSize: '0.95rem', lineHeight: 1.75, marginBottom: '1rem', textAlign: 'justify' }}>{para}</p>
            ))}
          </div>
        ))}
      </div>

      <div style={{ height: '1px', background: `linear-gradient(90deg, transparent, ${colors.gold}40, transparent)`, margin: '2.5rem auto', maxWidth: '500px' }}></div>
      
      <div style={{ maxWidth: '900px', margin: '0 auto' }}>
        <h3 style={{ textAlign: 'center', fontSize: '1.25rem', marginBottom: '2rem', color: colors.gold }}>Cape Cod By The Numbers</h3>
        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '1.5rem', textAlign: 'center' }}>
          {[
            ['1637', 'Sandwich Founded'],
            ['65', 'Miles of Cape'],
            ['1,600+', 'MLB Alumni from Cape League'],
            ['17', 'Kettleers Championships']
          ].map(([n, l]) => (
            <div key={l} style={{ padding: '1rem', background: colors.navyLight, border: `1px solid rgba(201,162,39,0.2)` }}>
              <div style={{ fontSize: '1.75rem', color: colors.gold, marginBottom: '0.25rem' }}>{n}</div>
              <div style={{ fontSize: '0.6rem', letterSpacing: '0.1em', textTransform: 'uppercase', opacity: 0.6 }}>{l}</div>
            </div>
          ))}
        </div>
        
        <div style={{ marginTop: '2rem', display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '1.5rem', textAlign: 'center' }}>
          {[
            ['1825', 'Glass Factory Founded'],
            ['1914', 'Cape Cod Canal Opened'],
            ['29-11-3', '1995 Kettleers Record'],
            ['1885', 'Cape League Est.']
          ].map(([n, l]) => (
            <div key={l} style={{ padding: '1rem', background: colors.navyLight, border: `1px solid rgba(201,162,39,0.2)` }}>
              <div style={{ fontSize: '1.75rem', color: colors.gold, marginBottom: '0.25rem' }}>{n}</div>
              <div style={{ fontSize: '0.6rem', letterSpacing: '0.1em', textTransform: 'uppercase', opacity: 0.6 }}>{l}</div>
            </div>
          ))}
        </div>
      </div>
    </section>
  );

  const Subscribe = () => (
    <section style={s.section}>
      <Lighthouse size={45} />
      <p style={s.subtitle}>Subscribe & Save</p>
      <h2 style={s.title}>Build Your Spice Box</h2>
      <div style={{ display: 'flex', justifyContent: 'center', gap: '0.75rem', marginBottom: '2.5rem' }}>
        {[1, 2, 3].map(step => (
          <div key={step} style={{ width: '36px', height: '36px', borderRadius: '50%', background: subscriptionStep >= step ? colors.gold : colors.navyLight, color: subscriptionStep >= step ? colors.navyDark : colors.gold, display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '0.85rem', fontWeight: 600, border: `1px solid ${colors.gold}` }}>{step}</div>
        ))}
      </div>
      <div style={{ maxWidth: '500px', margin: '0 auto' }}>
        {subscriptionStep === 1 && (
          <>
            <h3 style={{ fontSize: '1.15rem', marginBottom: '1.25rem' }}>Choose Your Frequency</h3>
            {[{ id: 'monthly', label: 'Monthly', discount: '10% off' }, { id: 'bimonthly', label: 'Every 2 Months', discount: '7% off' }, { id: 'quarterly', label: 'Quarterly', discount: '5% off' }].map(opt => (
              <div key={opt.id} onClick={() => setSubFrequency(opt.id)} style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', padding: '1rem', border: subFrequency === opt.id ? `1px solid ${colors.gold}` : `1px solid ${colors.navyLight}`, background: subFrequency === opt.id ? colors.navyLight : 'transparent', marginBottom: '0.75rem', cursor: 'pointer' }}>
                <div style={{ width: '18px', height: '18px', borderRadius: '50%', border: `2px solid ${colors.gold}`, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>{subFrequency === opt.id && <div style={{ width: '10px', height: '10px', borderRadius: '50%', background: colors.gold }}></div>}</div>
                <div style={{ flex: 1, display: 'flex', justifyContent: 'space-between' }}><span>{opt.label}</span><span style={{ color: colors.gold }}>{opt.discount}</span></div>
              </div>
            ))}
            <button style={{ ...s.btn, width: '100%', marginTop: '1.5rem' }} onClick={() => setSubscriptionStep(2)}>Continue</button>
          </>
        )}
        {subscriptionStep === 2 && (
          <>
            <h3 style={{ fontSize: '1.15rem', marginBottom: '0.5rem' }}>Select Your Blends</h3>
            <p style={{ opacity: 0.7, marginBottom: '1.25rem', fontSize: '0.9rem' }}>Choose 3-6 blends for your box.</p>
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '0.75rem' }}>
              {spices.map(sp => (
                <div key={sp.id} onClick={() => subSpices.includes(sp.id) ? setSubSpices(subSpices.filter(s => s !== sp.id)) : subSpices.length < 6 && setSubSpices([...subSpices, sp.id])} style={{ display: 'flex', alignItems: 'center', gap: '0.6rem', padding: '0.85rem', border: subSpices.includes(sp.id) ? `1px solid ${colors.gold}` : `1px solid ${colors.navyLight}`, background: subSpices.includes(sp.id) ? colors.navyLight : 'transparent', cursor: 'pointer' }}>
                  <div style={{ width: '18px', height: '18px', border: `2px solid ${colors.gold}`, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>{subSpices.includes(sp.id) && <span style={{ color: colors.gold, fontSize: '0.75rem' }}>✓</span>}</div>
                  <div><div style={{ fontWeight: 600, fontSize: '0.9rem' }}>{sp.name}</div><div style={{ fontSize: '0.65rem', color: colors.gold }}>{sp.subtitle}</div></div>
                </div>
              ))}
            </div>
            <p style={{ textAlign: 'center', margin: '1rem 0', opacity: 0.6 }}>{subSpices.length}/6 selected</p>
            <div style={{ display: 'flex', gap: '0.75rem' }}>
              <button style={{ ...s.btnOutline, flex: 1 }} onClick={() => setSubscriptionStep(1)}>Back</button>
              <button style={{ ...s.btn, flex: 2, opacity: subSpices.length < 3 ? 0.5 : 1 }} onClick={() => subSpices.length >= 3 && setSubscriptionStep(3)} disabled={subSpices.length < 3}>Continue</button>
            </div>
          </>
        )}
        {subscriptionStep === 3 && (
          <>
            <h3 style={{ fontSize: '1.15rem', marginBottom: '1.25rem' }}>Your Subscription</h3>
            <div style={{ background: colors.navyLight, padding: '1rem', marginBottom: '1rem', border: `1px solid rgba(201,162,39,0.2)` }}>
              <p style={{ color: colors.gold, fontSize: '0.65rem', letterSpacing: '0.15em', marginBottom: '0.3rem' }}>FREQUENCY</p>
              <p>{subFrequency === 'monthly' ? 'Monthly' : subFrequency === 'bimonthly' ? 'Every 2 Months' : 'Quarterly'}</p>
            </div>
            <div style={{ background: colors.navyLight, padding: '1rem', marginBottom: '1rem', border: `1px solid rgba(201,162,39,0.2)` }}>
              <p style={{ color: colors.gold, fontSize: '0.65rem', letterSpacing: '0.15em', marginBottom: '0.5rem' }}>YOUR BLENDS</p>
              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.4rem' }}>{subSpices.map(id => <span key={id} style={s.badge}>{spices.find(s => s.id === id)?.name}</span>)}</div>
            </div>
            <div style={{ background: colors.navyLight, padding: '1rem', marginBottom: '1.5rem', border: `1px solid rgba(201,162,39,0.2)` }}>
              <p style={{ color: colors.gold, fontSize: '0.65rem', letterSpacing: '0.15em', marginBottom: '0.3rem' }}>BOX TOTAL</p>
              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                <span style={{ fontSize: '1.4rem', color: colors.gold }}>${(subSpices.reduce((sum, id) => sum + (spices.find(s => s.id === id)?.price || 0), 0) * (subFrequency === 'monthly' ? 0.9 : subFrequency === 'bimonthly' ? 0.93 : 0.95)).toFixed(2)}</span>
                <span style={{ color: colors.gold, fontSize: '0.8rem' }}>{subFrequency === 'monthly' ? '10%' : subFrequency === 'bimonthly' ? '7%' : '5%'} savings</span>
              </div>
            </div>
            <div style={{ display: 'flex', gap: '0.75rem' }}>
              <button style={{ ...s.btnOutline, flex: 1 }} onClick={() => setSubscriptionStep(2)}>Back</button>
              <button style={{ ...s.btn, flex: 2 }}>Start Subscription</button>
            </div>
          </>
        )}
      </div>
    </section>
  );

  const Cart = () => (
    <section style={s.section}>
      <Lighthouse size={45} />
      <p style={s.subtitle}>Your Order</p>
      <h2 style={s.title}>Shopping Cart</h2>
      {cart.length === 0 ? (
        <div style={{ textAlign: 'center', padding: '2rem' }}>
          <p style={{ opacity: 0.7, marginBottom: '1.5rem' }}>Your cart is empty.</p>
          <button style={s.btn} onClick={() => setCurrentPage('shop')}>Shop the Collection</button>
        </div>
      ) : (
        <div style={{ maxWidth: '500px', margin: '0 auto' }}>
          {cart.map(item => (
            <div key={item.id} style={{ ...s.card, display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.75rem', cursor: 'default' }}>
              <div>
                <div style={{ ...s.badge, marginBottom: '0.4rem' }}>{item.subtitle}</div>
                <h4 style={{ fontSize: '1.05rem' }}>{item.name}</h4>
              </div>
              <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                  <button style={{ ...s.btnOutline, padding: '0.2rem 0.5rem' }} onClick={() => item.quantity > 1 ? setCart(cart.map(i => i.id === item.id ? { ...i, quantity: i.quantity - 1 } : i)) : setCart(cart.filter(i => i.id !== item.id))}>−</button>
                  <span>{item.quantity}</span>
                  <button style={{ ...s.btnOutline, padding: '0.2rem 0.5rem' }} onClick={() => setCart(cart.map(i => i.id === item.id ? { ...i, quantity: i.quantity + 1 } : i))}>+</button>
                </div>
                <span style={{ fontSize: '1.2rem', color: colors.gold }}>${(item.price * item.quantity).toFixed(2)}</span>
              </div>
            </div>
          ))}
          <div style={{ height: '1px', background: `linear-gradient(90deg, transparent, ${colors.gold}40, transparent)`, margin: '1.5rem 0' }}></div>
          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>
            <span>Total</span>
            <span style={{ fontSize: '1.75rem', color: colors.gold }}>${cartTotal.toFixed(2)}</span>
          </div>
          <button style={{ ...s.btn, width: '100%' }}>Proceed to Checkout</button>
          <p style={{ textAlign: 'center', marginTop: '1rem', opacity: 0.5, fontSize: '0.8rem' }}>Free shipping over $50 · Ships from Sandwich, MA</p>
        </div>
      )}
    </section>
  );

  const Footer = () => (
    <footer style={s.footer}>
      <Lighthouse size={50} />
      <div style={{ fontSize: '1.3rem', color: colors.gold, marginBottom: '0.4rem' }}>Dentist's Son</div>
      <p style={{ opacity: 0.6, fontSize: '0.85rem', marginBottom: '0.3rem' }}>Spice without sacrifice. Handcrafted in Sandwich, Massachusetts.</p>
      <p style={{ opacity: 0.5, fontSize: '0.75rem' }}>Cape Cod's Original FODMAP-Friendly Spice Rubs</p>
      <div style={{ height: '1px', background: `linear-gradient(90deg, transparent, ${colors.gold}30, transparent)`, margin: '1.5rem auto', maxWidth: '300px' }}></div>
      <p style={{ opacity: 0.4, fontSize: '0.7rem' }}>Sandwich, MA · Cape Cod Baseball League Championship Family · Est. 2025</p>
    </footer>
  );

  const pages = { home: Home, shop: Shop, recipes: Recipes, pairing: Pairing, mealplans: MealPlans, cape: CapeCod, subscribe: Subscribe, cart: Cart };
  const Page = pages[currentPage] || Home;

  return (
    <div style={s.app}>
      <Nav />
      <Page />
      <Footer />
    </div>
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(<DentistsSonApp />);
  </script>
</body>
</html>